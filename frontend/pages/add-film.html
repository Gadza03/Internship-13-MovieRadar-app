<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/style.css" />
    <link rel="icon" href="./assets/icons/movie-icon.png" type="image/x-icon" />

    <title>Movie Radar</title>
  </head>
  <body>

    <header>
       <h1 class="add-movie-headline">Add a new movie</h1>
    </header>
    <div class="movie-adding-container">
      <form id="add-movie-form" class="movie-form">
        <input
          type="text"
          id="title"
          name="title"
          placeholder="Title"
          required
        />
        <textarea
        id="description"
        name="description"
        placeholder="Description"
        required
      ></textarea>
      <label for="genre">Choose a genre:</label>
      <input list="genres" id="genre" name="genre" class="genres" required />
      <datalist id="genres">
          <option value="Action">
          <option value="Adventure">
          <option value="Comedy">
          <option value="Drama">
          <option value="Horror">
          <option value="Sci-Fi">
          <option value="Romance">
          <option value="Thriller">
          <option value="Fantasy">
          <option value="Mystery">
      </datalist>
        <input
          type="text"
          id="releaseYear"
          name="releaseYear"
          placeholder="Release year"
          required
        />
        <input
          type="text"
          id="poster"
          name="poster"
          placeholder="Poster URL"
          required
        />
        <button type="submit" id="submit-button" >Add movie</button>
      </form>
    </div>

    
    <script src="../modules/main.js" type="module"></script>
    <script src="../modules/api.js" type="module"></script>
    <script type="module">
      import { CreateFilm } from "../modules/admin-functions.js";
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("add-movie-form");

      if (form) {
        form.addEventListener("submit", (event) => CreateFilm(event));
      } else {
          console.error("Form not found!");
      }
  });
    </script>
  </body>
</html>
